{"version":3,"sources":["webpack:///./pages/species-page.jsx","webpack:///./widgets/list.jsx","webpack:///./widgets/loading.jsx"],"names":["_react","__webpack_require__","_relaks","_list","SpeciesPage","meanwhile","this","props","route","swapi","show","_react2","default","createElement","SpeciesPageSync","fetchOne","params","id","species","fetchMultiple","films","minimum","people","homeworld","AsyncComponent","displayName","_props2","className","name","classification","designation","average_height","skin_colors","hair_colors","eye_colors","average_lifespan","language","List","urls","items","pageName","field","_loading2","PureComponent","map","url","index","item","pending","length","extractID","find","text","linkProps","href","undefined","key","defaultProps","Loading"],"mappings":"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","file":"species-page.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport { AsyncComponent } from 'relaks';\nimport { List } from 'widgets/list';\nimport Loading from 'widgets/loading';\n\nclass SpeciesPage extends AsyncComponent {\n    static displayName = 'SpeciesPage';\n\n    /**\n     * Retrieve remote data and render the synchronize half of this component\n     *\n     * @param  {Meanwhile}  meanwhile\n     *\n     * @return {VNode}\n     */\n    async renderAsync(meanwhile) {\n        let { route, swapi } = this.props;\n        let props = {\n            route,\n        };\n        meanwhile.show(<SpeciesPageSync {...props} />);\n        props.species = await swapi.fetchOne(`/species/${route.params.id}/`);\n        meanwhile.show(<SpeciesPageSync {...props} />);\n        props.films = await swapi.fetchMultiple(props.species.films, { minimum: '60%' });\n        meanwhile.show(<SpeciesPageSync {...props} />);\n        props.people = await swapi.fetchMultiple(props.species.people, { minimum: '60%' });\n        meanwhile.show(<SpeciesPageSync {...props} />);\n        props.homeworld = await swapi.fetchOne(props.species.homeworld);\n        return <SpeciesPageSync {...props} />;\n    }\n}\n\nclass SpeciesPageSync extends PureComponent {\n    static displayName = 'SpeciesPageSync';\n\n    /**\n     * Render the component, making best effort using what props are given\n     *\n     * @return {VNode}\n     */\n    render() {\n        let { route, species, homeworld, people, films } = this.props;\n        if (!species) {\n            return <Loading />;\n        }\n        return (\n            <div className=\"character-page\">\n                <h1>{species.name}</h1>\n                <div>Classification: {species.classification}</div>\n                <div>Designation: {species.designation}</div>\n                <div>Average height: {species.average_height}</div>\n                <div>Skin colors: {species.skin_colors}</div>\n                <div>Hair colors: {species.hair_colors}</div>\n                <div>Eye colors: {species.eye_colors}</div>\n                <div>Average lifespan: {species.average_lifespan}</div>\n                <div>Language: {species.language}</div>\n                <h2>Homeworld</h2>\n                <List urls={species.homeworld} items={homeworld} pageName=\"planet-summary\" route={route} />\n                <h2>Members</h2>\n                <List urls={species.people} items={people} pageName=\"character-summary\" route={route} />\n                <h2>Films</h2>\n                <List urls={species.films} items={films} field=\"title\" pageName=\"film-summary\" route={route} />\n            </div>\n        );\n    }\n}\n\nexport {\n    SpeciesPage as default,\n    SpeciesPage,\n    SpeciesPageSync,\n};\n","import React from 'react';\n\nfunction List(props) {\n    let { route, urls, items, field, pageName } = props;\n    if (urls) {\n        // accept single URL and object\n        if (typeof(urls) === 'string') {\n            urls = [ urls ];\n            items = [ items ];\n        }\n        // deal with holes in the data set\n        items = urls.map((url, index) => {\n            var item = (items) ? items[index] : null;\n            if (!item) {\n                item = { url, pending: true };\n            }\n            return item;\n        });\n    }\n    if (!items) {\n        return null;\n    }\n    if (items.length === 0) {\n        return <ul className=\"empty\"><li><span>none</span></li></ul>;\n    }\n    return (\n        <ul>\n        {\n            items.map((item) => {\n                let id = route.extractID(item.url);\n                let url = route.find(pageName, { id });\n                let text = item.pending ? '...' : item[field];\n                let linkProps = {\n                    href: url,\n                    className: (item.pending) ? 'pending' : undefined,\n                };\n                return <li key={id}><a {...linkProps}>{text}</a></li>;\n            })\n        }\n        </ul>\n    );\n}\n\nList.defaultProps = {\n    field: 'name'\n};\n\nList.displayName = 'List';\n\nexport {\n    List as default,\n    List\n};\n","import React from 'react';\n\nfunction Loading() {\n    return (\n        <div className=\"loading\">\n            <div>\n                <i className=\"fab fa-empire fa-spin\"/> Loading\n            </div>\n        </div>\n    );\n}\n\nLoading.displayName = 'Loading';\n\nexport {\n    Loading as default,\n    Loading\n};\n"],"sourceRoot":""}